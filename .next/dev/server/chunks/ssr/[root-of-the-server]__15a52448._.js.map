{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/shoaibkhan/All%20Data/01%20-%20Work/Development/digital-flavour/src/components/VideoWidget.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { X, Play } from \"lucide-react\";\n\ninterface VideoWidgetProps {\n    videoUrl: string;\n    avatarUrl?: string; // Optional custom avatar\n}\n\nconst VideoWidget = ({ videoUrl, avatarUrl = \"/images/avatar-placeholder.png\" }: VideoWidgetProps) => {\n    const [isOpen, setIsOpen] = useState(false);\n\n    // Helper to determine embed URL\n    const getEmbedUrl = (url: string) => {\n        if (url.includes(\"instagram.com\")) {\n            // Remove query params and add embed\n            const baseUrl = url.split(\"?\")[0];\n            return `${baseUrl.endsWith(\"/\") ? baseUrl : baseUrl + \"/\"}embed`;\n        }\n        return url;\n    };\n\n    const embedUrl = getEmbedUrl(videoUrl);\n    const isInstagram = videoUrl.includes(\"instagram.com\");\n    // Check if it's a local file or direct MP4 link\n    const isLocalOrDirect = videoUrl.startsWith(\"/\") || videoUrl.endsWith(\".mp4\") || videoUrl.endsWith(\".webm\");\n\n    // Dimensions: Mobile Real Size (Vertical)\n    const containerClasses = (isInstagram || isLocalOrDirect)\n        ? 'aspect-[9/16] h-[600px] max-h-[80vh] w-[340px]'\n        : 'aspect-video w-[320px]';\n\n    return (\n        <div className=\"fixed bottom-6 left-6 z-50 flex flex-col items-start font-sans\">\n            <AnimatePresence>\n                {isOpen && (\n                    <motion.div\n                        initial={{ opacity: 0, scale: 0.8, y: 20, x: -20 }}\n                        animate={{ opacity: 1, scale: 1, y: 0, x: 0 }}\n                        exit={{ opacity: 0, scale: 0.8, y: 20, x: -20 }}\n                        className={`mb-4 bg-black rounded-xl overflow-hidden shadow-2xl border border-white/10 relative ${containerClasses}`}\n                    >\n                        <button\n                            onClick={() => setIsOpen(false)}\n                            className=\"absolute top-2 right-2 z-10 bg-black/50 hover:bg-black/80 text-white rounded-full p-2 transition-colors\"\n                        >\n                            <X className=\"w-5 h-5\" />\n                        </button>\n\n                        {isLocalOrDirect ? (\n                            <video\n                                src={videoUrl}\n                                className=\"w-full h-full object-cover\"\n                                autoPlay\n                                controls\n                                playsInline\n                            />\n                        ) : (\n                            <iframe\n                                src={embedUrl}\n                                title=\"Video Message\"\n                                allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n                                allowFullScreen\n                                className=\"w-full h-full\"\n                                style={{ border: 0 }}\n                            />\n                        )}\n                    </motion.div>\n                )}\n            </AnimatePresence>\n\n            {!isOpen && (\n                <motion.button\n                    onClick={() => setIsOpen(true)}\n                    initial={{ scale: 0 }}\n                    animate={{ scale: 1 }}\n                    whileHover={{ scale: 1.05 }}\n                    whileTap={{ scale: 0.95 }}\n                    className=\"group relative w-16 h-16 sm:w-20 sm:h-20 rounded-full border-4 border-white shadow-xl overflow-hidden flex items-center justify-center bg-black\"\n                >\n                    <div className=\"absolute inset-0 bg-cover bg-center\" style={{ backgroundImage: `url(${avatarUrl})` }} />\n                    <div className=\"absolute inset-0 bg-black/20 group-hover:bg-black/40 transition-colors\" />\n\n                    {/* Play Button Overlay */}\n                    <div className=\"absolute inset-0 flex items-center justify-center\">\n                        <div className=\"w-8 h-8 bg-white/90 rounded-full flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform\">\n                            <Play className=\"w-4 h-4 text-primary fill-primary ml-0.5\" />\n                        </div>\n                    </div>\n\n                    {/* Pulse Effect */}\n                    <div className=\"absolute inset-0 rounded-full ring-4 ring-primary/50 animate-pulse\" />\n                </motion.button>\n            )}\n        </div>\n    );\n};\n\nexport default VideoWidget;\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AAAA;AAJA;;;;;AAWA,MAAM,cAAc,CAAC,EAAE,QAAQ,EAAE,YAAY,gCAAgC,EAAoB;IAC7F,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IAErC,gCAAgC;IAChC,MAAM,cAAc,CAAC;QACjB,IAAI,IAAI,QAAQ,CAAC,kBAAkB;YAC/B,oCAAoC;YACpC,MAAM,UAAU,IAAI,KAAK,CAAC,IAAI,CAAC,EAAE;YACjC,OAAO,GAAG,QAAQ,QAAQ,CAAC,OAAO,UAAU,UAAU,IAAI,KAAK,CAAC;QACpE;QACA,OAAO;IACX;IAEA,MAAM,WAAW,YAAY;IAC7B,MAAM,cAAc,SAAS,QAAQ,CAAC;IACtC,gDAAgD;IAChD,MAAM,kBAAkB,SAAS,UAAU,CAAC,QAAQ,SAAS,QAAQ,CAAC,WAAW,SAAS,QAAQ,CAAC;IAEnG,0CAA0C;IAC1C,MAAM,mBAAmB,AAAC,eAAe,kBACnC,mDACA;IAEN,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC,4MAAe;0BACX,wBACG,8OAAC,oMAAM,CAAC,GAAG;oBACP,SAAS;wBAAE,SAAS;wBAAG,OAAO;wBAAK,GAAG;wBAAI,GAAG,CAAC;oBAAG;oBACjD,SAAS;wBAAE,SAAS;wBAAG,OAAO;wBAAG,GAAG;wBAAG,GAAG;oBAAE;oBAC5C,MAAM;wBAAE,SAAS;wBAAG,OAAO;wBAAK,GAAG;wBAAI,GAAG,CAAC;oBAAG;oBAC9C,WAAW,CAAC,oFAAoF,EAAE,kBAAkB;;sCAEpH,8OAAC;4BACG,SAAS,IAAM,UAAU;4BACzB,WAAU;sCAEV,cAAA,8OAAC,iMAAC;gCAAC,WAAU;;;;;;;;;;;wBAGhB,gCACG,8OAAC;4BACG,KAAK;4BACL,WAAU;4BACV,QAAQ;4BACR,QAAQ;4BACR,WAAW;;;;;qFAGf,8OAAC;4BACG,KAAK;4BACL,OAAM;4BACN,OAAM;4BACN,eAAe;4BACf,WAAU;4BACV,OAAO;gCAAE,QAAQ;4BAAE;;;;;;;;;;;;;;;;;YAOtC,CAAC,wBACE,8OAAC,oMAAM,CAAC,MAAM;gBACV,SAAS,IAAM,UAAU;gBACzB,SAAS;oBAAE,OAAO;gBAAE;gBACpB,SAAS;oBAAE,OAAO;gBAAE;gBACpB,YAAY;oBAAE,OAAO;gBAAK;gBAC1B,UAAU;oBAAE,OAAO;gBAAK;gBACxB,WAAU;;kCAEV,8OAAC;wBAAI,WAAU;wBAAsC,OAAO;4BAAE,iBAAiB,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC;wBAAC;;;;;;kCACnG,8OAAC;wBAAI,WAAU;;;;;;kCAGf,8OAAC;wBAAI,WAAU;kCACX,cAAA,8OAAC;4BAAI,WAAU;sCACX,cAAA,8OAAC,0MAAI;gCAAC,WAAU;;;;;;;;;;;;;;;;kCAKxB,8OAAC;wBAAI,WAAU;;;;;;;;;;;;;;;;;;AAKnC;uCAEe"}}]
}